{"ast":null,"code":"import React,{useEffect,useState}from'react';import{apiUrl}from'./api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const accentGradient='linear-gradient(90deg, #a259ff 0%, #4f8cff 100%)';const accentText={background:accentGradient,WebkitBackgroundClip:'text',WebkitTextFillColor:'transparent',fontWeight:700};function SavedTexts(_ref){let{projectId}=_ref;const[texts,setTexts]=useState([]);const[loading,setLoading]=useState(true);const[error,setError]=useState('');useEffect(()=>{const fetchTexts=async()=>{try{const url=projectId?`${apiUrl('/texts/')}?project_id=${encodeURIComponent(projectId)}`:apiUrl('/texts/');const res=await fetch(url);const data=await res.json();setTexts(data);}catch(err){setError('Failed to fetch saved texts');}setLoading(false);};fetchTexts();},[projectId]);return/*#__PURE__*/_jsxs(\"div\",{className:\"main-responsive-box\",style:{width:'100%',maxWidth:1100,margin:'0 auto',padding:'0 5vw'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:38,marginBottom:32,...accentText},children:\"Saved OCR Texts\"}),loading&&/*#__PURE__*/_jsx(\"div\",{style:{color:'#bfc9d9'},children:\"Loading...\"}),error&&/*#__PURE__*/_jsx(\"div\",{style:{color:'#e63946'},children:error}),!loading&&!error&&/*#__PURE__*/_jsx(\"div\",{className:\"d-flex flex-column gap-4\",children:texts.length===0?/*#__PURE__*/_jsx(\"div\",{style:{color:'#bfc9d9',fontSize:20},children:\"No saved texts yet.\"}):texts.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"mx-auto w-100\",style:{background:'#191919',borderRadius:20,boxShadow:'0 2px 12px rgba(162,89,255,0.08)',padding:32,color:'#fff',fontSize:18,fontWeight:500,maxWidth:900,border:'1.5px solid #232323'},children:[/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:10,color:'#bfc9d9',fontSize:16},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:700,color:'#fff'},children:\"Saved:\"}),\" \",new Date(item.created_at).toLocaleString()]}),item.filename&&/*#__PURE__*/_jsxs(\"div\",{style:{marginBottom:10,color:'#bfc9d9',fontSize:16},children:[/*#__PURE__*/_jsx(\"span\",{style:{fontWeight:700,color:'#fff'},children:\"File:\"}),\" \",item.filename]}),/*#__PURE__*/_jsx(\"pre\",{style:{background:'#232323',padding:20,borderRadius:12,fontSize:17,color:'#fff',whiteSpace:'pre-wrap',fontWeight:500,margin:0,boxShadow:'0 1px 4px rgba(162,89,255,0.05)'},children:item.text})]},item.id))})]});}export default SavedTexts;","map":{"version":3,"names":["React","useEffect","useState","apiUrl","jsx","_jsx","jsxs","_jsxs","accentGradient","accentText","background","WebkitBackgroundClip","WebkitTextFillColor","fontWeight","SavedTexts","_ref","projectId","texts","setTexts","loading","setLoading","error","setError","fetchTexts","url","encodeURIComponent","res","fetch","data","json","err","className","style","width","maxWidth","margin","padding","children","fontSize","marginBottom","color","length","map","item","borderRadius","boxShadow","border","Date","created_at","toLocaleString","filename","whiteSpace","text","id"],"sources":["/Users/riccardorubini/Devs/AI-platform/OCR-test/frontend/src/SavedTexts.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\nimport { apiUrl } from './api';\n\nconst accentGradient = 'linear-gradient(90deg, #a259ff 0%, #4f8cff 100%)';\nconst accentText = {\n  background: accentGradient,\n  WebkitBackgroundClip: 'text',\n  WebkitTextFillColor: 'transparent',\n  fontWeight: 700,\n};\n\nfunction SavedTexts({ projectId }) {\n  const [texts, setTexts] = useState([]);\n  const [loading, setLoading] = useState(true);\n  const [error, setError] = useState('');\n\n  useEffect(() => {\n    const fetchTexts = async () => {\n      try {\n        const url = projectId ? `${apiUrl('/texts/')}?project_id=${encodeURIComponent(projectId)}` : apiUrl('/texts/');\n        const res = await fetch(url);\n        const data = await res.json();\n        setTexts(data);\n      } catch (err) {\n        setError('Failed to fetch saved texts');\n      }\n      setLoading(false);\n    };\n    fetchTexts();\n  }, [projectId]);\n\n  return (\n    <div className=\"main-responsive-box\" style={{ width: '100%', maxWidth: 1100, margin: '0 auto', padding: '0 5vw' }}>\n      <h2 style={{ fontSize: 38, marginBottom: 32, ...accentText }}>Saved OCR Texts</h2>\n      {loading && <div style={{ color: '#bfc9d9' }}>Loading...</div>}\n      {error && <div style={{ color: '#e63946' }}>{error}</div>}\n      {!loading && !error && (\n        <div className=\"d-flex flex-column gap-4\">\n          {texts.length === 0 ? (\n            <div style={{ color: '#bfc9d9', fontSize: 20 }}>No saved texts yet.</div>\n          ) : (\n            texts.map((item) => (\n              <div key={item.id} className=\"mx-auto w-100\" style={{ background: '#191919', borderRadius: 20, boxShadow: '0 2px 12px rgba(162,89,255,0.08)', padding: 32, color: '#fff', fontSize: 18, fontWeight: 500, maxWidth: 900, border: '1.5px solid #232323' }}>\n                <div style={{ marginBottom: 10, color: '#bfc9d9', fontSize: 16 }}>\n                  <span style={{ fontWeight: 700, color: '#fff' }}>Saved:</span> {new Date(item.created_at).toLocaleString()}\n                </div>\n                {item.filename && (\n                  <div style={{ marginBottom: 10, color: '#bfc9d9', fontSize: 16 }}>\n                    <span style={{ fontWeight: 700, color: '#fff' }}>File:</span> {item.filename}\n                  </div>\n                )}\n                <pre style={{ background: '#232323', padding: 20, borderRadius: 12, fontSize: 17, color: '#fff', whiteSpace: 'pre-wrap', fontWeight: 500, margin: 0, boxShadow: '0 1px 4px rgba(162,89,255,0.05)' }}>{item.text}</pre>\n              </div>\n            ))\n          )}\n        </div>\n      )}\n    </div>\n  );\n}\n\nexport default SavedTexts; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}