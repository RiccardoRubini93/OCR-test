{"ast":null,"code":"import React,{useEffect,useMemo,useState}from'react';import{apiUrl}from'./api';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const accentGradient='linear-gradient(90deg, #a259ff 0%, #4f8cff 100%)';const accentText={background:accentGradient,WebkitBackgroundClip:'text',WebkitTextFillColor:'transparent',fontWeight:700};function MiniLineChart(_ref){let{data=[],width=520,height=140}=_ref;if(!data||data.length===0)return/*#__PURE__*/_jsx(\"div\",{style:{color:'#bfc9d9'},children:\"No data\"});const padding=24;const xs=data.map((_,i)=>i);const ys=data.map(d=>d.count);const minY=0;const maxY=Math.max(1,Math.max(...ys));const scaleX=i=>padding+i*(width-2*padding)/Math.max(1,xs.length-1);const scaleY=y=>height-padding-(y-minY)*(height-2*padding)/(maxY-minY||1);const path=data.map((d,i)=>`${i===0?'M':'L'} ${scaleX(i)} ${scaleY(d.count)}`).join(' ');return/*#__PURE__*/_jsx(\"svg\",{width:width,height:height,style:{background:'#111',borderRadius:12,border:'1.5px solid #232323'},children:/*#__PURE__*/_jsx(\"path\",{d:path,stroke:\"#4f8cff\",strokeWidth:2,fill:\"none\"})});}function MiniBarChart(_ref2){let{data=[],width=520,height=180,labelKey='name',valueKey='count'}=_ref2;if(!data||data.length===0)return/*#__PURE__*/_jsx(\"div\",{style:{color:'#bfc9d9'},children:\"No data\"});const padding=24;const maxVal=Math.max(1,Math.max(...data.map(d=>d[valueKey])));const barHeight=(height-2*padding)/data.length;return/*#__PURE__*/_jsx(\"svg\",{width:width,height:height,style:{background:'#111',borderRadius:12,border:'1.5px solid #232323'},children:data.map((d,i)=>{const y=padding+i*barHeight;const w=d[valueKey]/maxVal*(width-2*padding);return/*#__PURE__*/_jsxs(\"g\",{children:[/*#__PURE__*/_jsx(\"rect\",{x:padding,y:y+4,width:w,height:barHeight-8,fill:\"#a259ff\",opacity:0.8}),/*#__PURE__*/_jsx(\"text\",{x:padding+6,y:y+barHeight/2+4,fill:\"#fff\",fontSize:12,children:d[labelKey]}),/*#__PURE__*/_jsx(\"text\",{x:padding+w+8,y:y+barHeight/2+4,fill:\"#bfc9d9\",fontSize:12,children:d[valueKey]})]},i);})});}function StatsAndQuery(_ref3){var _stats$count;let{projectId}=_ref3;const[stats,setStats]=useState(null);const[loadingStats,setLoadingStats]=useState(true);const[query,setQuery]=useState('SELECT * FROM handwritten_texts LIMIT 5;');const[queryResult,setQueryResult]=useState(null);const[queryError,setQueryError]=useState('');const[queryLoading,setQueryLoading]=useState(false);const[projects,setProjects]=useState([]);const[schemas,setSchemas]=useState([]);const[tables,setTables]=useState([]);const[schemaFilter,setSchemaFilter]=useState('');const[activeTab,setActiveTab]=useState('overview');// overview | browse | query | charts\nconst[projectCounts,setProjectCounts]=useState([]);const[activitySeries,setActivitySeries]=useState([]);const[lengthHistogram,setLengthHistogram]=useState({bins:[],min:0,max:0});const[topFilenames,setTopFilenames]=useState([]);// Browse builder state\nconst[browseSchema,setBrowseSchema]=useState('public');const[browseTable,setBrowseTable]=useState('handwritten_texts');const[browseLimit,setBrowseLimit]=useState(50);const[browseFilters,setBrowseFilters]=useState([]);// [{ col, op, val }]\nconst[browseColumns,setBrowseColumns]=useState([]);const[browseRows,setBrowseRows]=useState([]);useEffect(()=>{const url=projectId?`${apiUrl('/stats')}?project_id=${encodeURIComponent(projectId)}`:apiUrl('/stats');fetch(url).then(res=>res.json()).then(data=>setStats(data)).finally(()=>setLoadingStats(false));},[projectId]);useEffect(()=>{// Load projects\nfetch(apiUrl('/projects/')).then(res=>res.json()).then(data=>setProjects(Array.isArray(data)?data:[])).catch(()=>setProjects([]));// Load schemas\nfetch(apiUrl('/db/schemas')).then(res=>res.json()).then(data=>setSchemas(Array.isArray(data.schemas)?data.schemas:[])).catch(()=>setSchemas([]));// Load analytics\nfetch(apiUrl('/analytics/project_counts')).then(res=>res.json()).then(data=>setProjectCounts(Array.isArray(data.projects)?data.projects:[])).catch(()=>setProjectCounts([]));},[]);useEffect(()=>{const url=schemaFilter?`${apiUrl('/db/tables')}?schema=${encodeURIComponent(schemaFilter)}`:apiUrl('/db/tables');fetch(url).then(res=>res.json()).then(data=>setTables(Array.isArray(data.tables)?data.tables:[])).catch(()=>setTables([]));},[schemaFilter]);useEffect(()=>{const base=`${apiUrl('/analytics/activity')}`;const url=projectId?`${base}?project_id=${encodeURIComponent(projectId)}`:base;fetch(url).then(res=>res.json()).then(data=>setActivitySeries(Array.isArray(data.series)?data.series:[])).catch(()=>setActivitySeries([]));const baseH=`${apiUrl('/analytics/length_histogram')}`;const urlH=projectId?`${baseH}?project_id=${encodeURIComponent(projectId)}`:baseH;fetch(urlH).then(res=>res.json()).then(data=>setLengthHistogram(data&&data.bins?data:{bins:[],min:0,max:0})).catch(()=>setLengthHistogram({bins:[],min:0,max:0}));const baseTop=`${apiUrl('/analytics/top_filenames')}`;const urlTop=projectId?`${baseTop}?project_id=${encodeURIComponent(projectId)}`:baseTop;fetch(urlTop).then(res=>res.json()).then(data=>setTopFilenames(Array.isArray(data.top)?data.top:[])).catch(()=>setTopFilenames([]));},[projectId]);useEffect(()=>{// load columns for browse\nfetch(`${apiUrl('/db/columns')}?schema=${encodeURIComponent(browseSchema)}&table=${encodeURIComponent(browseTable)}`).then(res=>res.json()).then(data=>setBrowseColumns(Array.isArray(data.columns)?data.columns:[])).catch(()=>setBrowseColumns([]));},[browseSchema,browseTable]);const handleQuery=async e=>{e.preventDefault();setQueryLoading(true);setQueryError('');setQueryResult(null);try{const res=await fetch(apiUrl('/texts/raw_query'),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({query})});const data=await res.json();if(data.error){setQueryError(data.error);}else{setQueryResult(data);}}catch(err){setQueryError('Failed to run query');}setQueryLoading(false);};const runBrowse=async()=>{const whereParts=[];if(projectId)whereParts.push(`project_id = ${Number(projectId)}`);browseFilters.forEach(_ref4=>{let{col,op,val}=_ref4;if(!col||!op)return;const safeVal=String(val!==null&&val!==void 0?val:'').replace(/'/g,\"''\");if(op==='contains')whereParts.push(`${col} ILIKE '%${safeVal}%'`);else if(op==='=')whereParts.push(`${col} = '${safeVal}'`);else if(op==='!=')whereParts.push(`${col} != '${safeVal}'`);else if(op==='is null')whereParts.push(`${col} IS NULL`);else if(op==='is not null')whereParts.push(`${col} IS NOT NULL`);});const whereClause=whereParts.length?` WHERE ${whereParts.join(' AND ')}`:'';const sql=`SELECT * FROM ${browseSchema}.${browseTable}${whereClause} ORDER BY 1 DESC LIMIT ${Number(browseLimit)||50};`;setQuery(sql);setActiveTab('query');// Auto-run\ntry{setQueryLoading(true);setQueryError('');setQueryResult(null);const res=await fetch(apiUrl('/texts/raw_query'),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({query:sql})});const data=await res.json();if(!res.ok||data.error){setQueryError(data.error||'Query failed');}else{setQueryResult(data);}}catch(e){setQueryError('Query failed');}finally{setQueryLoading(false);}};const addFilterRow=()=>setBrowseFilters(prev=>[...prev,{col:'',op:'contains',val:''}]);const updateFilter=(idx,patch)=>setBrowseFilters(prev=>prev.map((f,i)=>i===idx?{...f,...patch}:f));const removeFilter=idx=>setBrowseFilters(prev=>prev.filter((_,i)=>i!==idx));return/*#__PURE__*/_jsxs(\"div\",{className:\"main-responsive-box\",style:{width:'100%',maxWidth:1200,margin:'0 auto',padding:'0 5vw'},children:[/*#__PURE__*/_jsx(\"h2\",{style:{fontSize:38,marginBottom:16,...accentText},children:\"Database Explorer\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"row\",style:{gap:16},children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-lg-3\",style:{minWidth:260},children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'#111',border:'1.5px solid #232323',borderRadius:12,padding:12},children:[/*#__PURE__*/_jsx(\"h6\",{style:{color:'#fff',fontWeight:700},children:\"Navigator\"}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#bfc9d9',marginTop:8,marginBottom:8},children:\"Projects\"}),/*#__PURE__*/_jsx(\"div\",{style:{maxHeight:200,overflowY:'auto'},children:projects.map(p=>/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',justifyContent:'space-between',color:'#bfc9d9',padding:'6px 8px',borderRadius:8,border:'1px solid #232323',marginBottom:6},children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'#fff'},children:p.name}),/*#__PURE__*/_jsx(\"span\",{style:{opacity:0.8},children:p.description?'':''})]},p.id))}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#bfc9d9',marginTop:12,marginBottom:8},children:\"Schemas & Tables\"}),/*#__PURE__*/_jsxs(\"select\",{value:schemaFilter,onChange:e=>setSchemaFilter(e.target.value),className:\"form-select form-select-sm bg-dark text-white\",style:{border:'1.5px solid #232323',marginBottom:8},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"All (user schemas)\"}),schemas.map(s=>/*#__PURE__*/_jsx(\"option\",{value:s,children:s},s))]}),/*#__PURE__*/_jsx(\"div\",{style:{maxHeight:260,overflowY:'auto'},children:tables.map(t=>/*#__PURE__*/_jsxs(\"div\",{style:{color:'#bfc9d9',padding:'4px 6px',cursor:'pointer'},onClick:()=>{setBrowseSchema(t.schema);setBrowseTable(t.table);setActiveTab('browse');},children:[/*#__PURE__*/_jsx(\"span\",{style:{color:'#a259ff'},children:t.schema}),\".\",t.table]},`${t.schema}.${t.table}`))})]})}),/*#__PURE__*/_jsxs(\"div\",{className:\"col\",style:{minWidth:0},children:[/*#__PURE__*/_jsx(\"div\",{className:\"d-flex gap-2 mb-3\",children:['overview','browse','query','charts'].map(tab=>/*#__PURE__*/_jsx(\"button\",{onClick:()=>setActiveTab(tab),className:`btn ${activeTab===tab?'btn-primary':'btn-outline-light'}`,style:{borderRadius:10,padding:'8px 14px',textTransform:'capitalize'},children:tab},tab))}),activeTab==='overview'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row g-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-md-3\",children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'#191919',border:'1.5px solid #232323',borderRadius:12,padding:16},children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#bfc9d9'},children:\"Total Rows\"}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#fff',fontSize:28,fontWeight:700},children:(_stats$count=stats===null||stats===void 0?void 0:stats.count)!==null&&_stats$count!==void 0?_stats$count:'—'})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-md-3\",children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'#191919',border:'1.5px solid #232323',borderRadius:12,padding:16},children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#bfc9d9'},children:\"Avg Text Length\"}),/*#__PURE__*/_jsx(\"div\",{style:{color:'#fff',fontSize:28,fontWeight:700},children:stats!==null&&stats!==void 0&&stats.avg_text_length?stats.avg_text_length.toFixed(2):'—'})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'#191919',border:'1.5px solid #232323',borderRadius:12,padding:16},children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#bfc9d9',marginBottom:8},children:\"Activity\"}),/*#__PURE__*/_jsx(MiniLineChart,{data:activitySeries})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"row g-3 mt-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'#191919',border:'1.5px solid #232323',borderRadius:12,padding:16},children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#bfc9d9',marginBottom:8},children:\"Length distribution\"}),/*#__PURE__*/_jsx(MiniBarChart,{data:lengthHistogram.bins.map(b=>({name:`#${b.bucket}`,count:b.count}))})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-md-6\",children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'#191919',border:'1.5px solid #232323',borderRadius:12,padding:16},children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#bfc9d9',marginBottom:8},children:\"Top filenames\"}),/*#__PURE__*/_jsx(MiniBarChart,{data:topFilenames})]})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",style:{background:'#191919',border:'1.5px solid #232323',borderRadius:12,padding:12},children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#bfc9d9',marginBottom:6},children:\"Top Projects\"}),/*#__PURE__*/_jsx(\"div\",{className:\"d-flex flex-wrap gap-2\",children:projectCounts.map(p=>/*#__PURE__*/_jsxs(\"div\",{style:{background:'#111',border:'1px solid #232323',borderRadius:10,padding:'10px 12px',color:'#fff'},children:[p.name,\": \",/*#__PURE__*/_jsx(\"span\",{style:{color:'#4f8cff'},children:p.count})]},p.id))})]})]}),activeTab==='browse'&&/*#__PURE__*/_jsxs(\"div\",{style:{background:'#191919',border:'1.5px solid #232323',borderRadius:12,padding:16},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"row g-2 align-items-end\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 col-md-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",style:{color:'#bfc9d9'},children:\"Schema\"}),/*#__PURE__*/_jsx(\"input\",{value:browseSchema,onChange:e=>setBrowseSchema(e.target.value),className:\"form-control bg-dark text-white\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-12 col-md-4\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",style:{color:'#bfc9d9'},children:\"Table\"}),/*#__PURE__*/_jsx(\"input\",{value:browseTable,onChange:e=>setBrowseTable(e.target.value),className:\"form-control bg-dark text-white\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"col-6 col-md-2\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"form-label\",style:{color:'#bfc9d9'},children:\"Limit\"}),/*#__PURE__*/_jsx(\"input\",{type:\"number\",min:1,max:5000,value:browseLimit,onChange:e=>setBrowseLimit(e.target.value),className:\"form-control bg-dark text-white\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"col-6 col-md-2 d-grid\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-primary\",onClick:runBrowse,children:\"Run\"})})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"mt-3\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex justify-content-between align-items-center\",children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#bfc9d9'},children:\"Filters\"}),/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-outline-light\",onClick:addFilterRow,children:\"Add filter\"})]}),browseFilters.length===0&&/*#__PURE__*/_jsx(\"div\",{style:{color:'#666',marginTop:8},children:\"No filters\"}),browseFilters.map((f,idx)=>/*#__PURE__*/_jsxs(\"div\",{className:\"row g-2 align-items-center mt-1\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-md-4\",children:/*#__PURE__*/_jsxs(\"select\",{value:f.col,onChange:e=>updateFilter(idx,{col:e.target.value}),className:\"form-select bg-dark text-white\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u2014 column \\u2014\"}),browseColumns.map(c=>/*#__PURE__*/_jsx(\"option\",{value:c.name,children:c.name},c.name))]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-6 col-md-3\",children:/*#__PURE__*/_jsxs(\"select\",{value:f.op,onChange:e=>updateFilter(idx,{op:e.target.value}),className:\"form-select bg-dark text-white\",children:[/*#__PURE__*/_jsx(\"option\",{value:\"contains\",children:\"contains\"}),/*#__PURE__*/_jsx(\"option\",{value:\"=\",children:\"=\"}),/*#__PURE__*/_jsx(\"option\",{value:\"!=\",children:\"!=\"}),/*#__PURE__*/_jsx(\"option\",{value:\"is null\",children:\"is null\"}),/*#__PURE__*/_jsx(\"option\",{value:\"is not null\",children:\"is not null\"})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-6 col-md-4\",children:!(f.op==='is null'||f.op==='is not null')&&/*#__PURE__*/_jsx(\"input\",{value:f.val,onChange:e=>updateFilter(idx,{val:e.target.value}),className:\"form-control bg-dark text-white\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-md-1 d-grid\",children:/*#__PURE__*/_jsx(\"button\",{className:\"btn btn-sm btn-outline-danger\",onClick:()=>removeFilter(idx),children:\"X\"})})]},idx)),browseColumns.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"d-flex flex-wrap gap-2 mt-2\",children:browseColumns.map(c=>/*#__PURE__*/_jsx(\"span\",{className:\"badge bg-secondary\",style:{background:'#232323',border:'1px solid #333',color:'#bfc9d9'},children:c.name},c.name))})]})]}),activeTab==='query'&&/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(\"h4\",{style:{color:'#fff',fontSize:22,fontWeight:700,marginBottom:12},children:\"Run a SQL Query\"}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleQuery,className:\"row g-2 align-items-center mb-3\",style:{marginBottom:24},children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-md-9 mb-2 mb-md-0\",children:/*#__PURE__*/_jsx(\"input\",{type:\"text\",value:query,onChange:e=>setQuery(e.target.value),className:\"form-control bg-dark text-white\",style:{padding:16,borderRadius:12,border:'2px solid #4f8cff',fontSize:18,fontWeight:500}})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-md-3 d-grid\",children:/*#__PURE__*/_jsx(\"button\",{type:\"submit\",className:\"btn btn-primary\",style:{borderRadius:12,padding:'14px 36px',fontWeight:700,fontSize:18},disabled:queryLoading,children:\"Run\"})})]}),queryError&&/*#__PURE__*/_jsx(\"div\",{style:{color:'#e63946'},children:queryError}),queryResult&&/*#__PURE__*/_jsx(\"div\",{style:{overflowX:'auto',marginTop:16},children:/*#__PURE__*/_jsxs(\"table\",{className:\"table table-dark table-bordered\",style:{borderCollapse:'collapse',width:'100%',background:'#191919',borderRadius:16,overflow:'hidden'},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsx(\"tr\",{children:queryResult.columns.map(col=>/*#__PURE__*/_jsx(\"th\",{style:{border:'1.5px solid #232323',padding:14,background:'#232323',color:'#a259ff',fontSize:18},children:col},col))})}),/*#__PURE__*/_jsx(\"tbody\",{children:queryResult.rows.map((row,i)=>/*#__PURE__*/_jsx(\"tr\",{children:row.map((cell,j)=>/*#__PURE__*/_jsx(\"td\",{style:{border:'1.5px solid #232323',padding:14,color:'#fff',fontSize:17},children:String(cell)},j))},i))})]})})]}),activeTab==='charts'&&/*#__PURE__*/_jsxs(\"div\",{className:\"row g-3\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-lg-7\",children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'#191919',border:'1.5px solid #232323',borderRadius:12,padding:16},children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#bfc9d9',marginBottom:8},children:\"Rows over time\"}),/*#__PURE__*/_jsx(MiniLineChart,{data:activitySeries,width:720,height:220})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12 col-lg-5\",children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'#191919',border:'1.5px solid #232323',borderRadius:12,padding:16},children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#bfc9d9',marginBottom:8},children:\"Length distribution\"}),/*#__PURE__*/_jsx(MiniBarChart,{data:lengthHistogram.bins.map(b=>({name:`#${b.bucket}`,count:b.count})),width:520,height:220})]})}),/*#__PURE__*/_jsx(\"div\",{className:\"col-12\",children:/*#__PURE__*/_jsxs(\"div\",{style:{background:'#191919',border:'1.5px solid #232323',borderRadius:12,padding:16},children:[/*#__PURE__*/_jsx(\"div\",{style:{color:'#bfc9d9',marginBottom:8},children:\"Top filenames\"}),/*#__PURE__*/_jsx(MiniBarChart,{data:topFilenames,width:1080,height:220})]})})]})]})]})]});}export default StatsAndQuery;","map":{"version":3,"names":["React","useEffect","useMemo","useState","apiUrl","jsx","_jsx","jsxs","_jsxs","accentGradient","accentText","background","WebkitBackgroundClip","WebkitTextFillColor","fontWeight","MiniLineChart","_ref","data","width","height","length","style","color","children","padding","xs","map","_","i","ys","d","count","minY","maxY","Math","max","scaleX","scaleY","y","path","join","borderRadius","border","stroke","strokeWidth","fill","MiniBarChart","_ref2","labelKey","valueKey","maxVal","barHeight","w","x","opacity","fontSize","StatsAndQuery","_ref3","_stats$count","projectId","stats","setStats","loadingStats","setLoadingStats","query","setQuery","queryResult","setQueryResult","queryError","setQueryError","queryLoading","setQueryLoading","projects","setProjects","schemas","setSchemas","tables","setTables","schemaFilter","setSchemaFilter","activeTab","setActiveTab","projectCounts","setProjectCounts","activitySeries","setActivitySeries","lengthHistogram","setLengthHistogram","bins","min","topFilenames","setTopFilenames","browseSchema","setBrowseSchema","browseTable","setBrowseTable","browseLimit","setBrowseLimit","browseFilters","setBrowseFilters","browseColumns","setBrowseColumns","browseRows","setBrowseRows","url","encodeURIComponent","fetch","then","res","json","finally","Array","isArray","catch","base","series","baseH","urlH","baseTop","urlTop","top","columns","handleQuery","e","preventDefault","method","headers","body","JSON","stringify","error","err","runBrowse","whereParts","push","Number","forEach","_ref4","col","op","val","safeVal","String","replace","whereClause","sql","ok","addFilterRow","prev","updateFilter","idx","patch","f","removeFilter","filter","className","maxWidth","margin","marginBottom","gap","minWidth","marginTop","maxHeight","overflowY","p","display","justifyContent","name","description","id","value","onChange","target","s","t","cursor","onClick","schema","table","tab","textTransform","avg_text_length","toFixed","b","bucket","type","c","onSubmit","disabled","overflowX","borderCollapse","overflow","rows","row","cell","j"],"sources":["/Users/riccardorubini/Devs/AI-platform/OCR-test/frontend/src/StatsAndQuery.js"],"sourcesContent":["import React, { useEffect, useMemo, useState } from 'react';\nimport { apiUrl } from './api';\n\nconst accentGradient = 'linear-gradient(90deg, #a259ff 0%, #4f8cff 100%)';\nconst accentText = {\n  background: accentGradient,\n  WebkitBackgroundClip: 'text',\n  WebkitTextFillColor: 'transparent',\n  fontWeight: 700,\n};\n\nfunction MiniLineChart({ data = [], width = 520, height = 140 }) {\n  if (!data || data.length === 0) return <div style={{ color: '#bfc9d9' }}>No data</div>;\n  const padding = 24;\n  const xs = data.map((_, i) => i);\n  const ys = data.map(d => d.count);\n  const minY = 0;\n  const maxY = Math.max(1, Math.max(...ys));\n  const scaleX = (i) => padding + (i * (width - 2 * padding)) / Math.max(1, (xs.length - 1));\n  const scaleY = (y) => height - padding - ((y - minY) * (height - 2 * padding)) / (maxY - minY || 1);\n  const path = data.map((d, i) => `${i === 0 ? 'M' : 'L'} ${scaleX(i)} ${scaleY(d.count)}`).join(' ');\n  return (\n    <svg width={width} height={height} style={{ background: '#111', borderRadius: 12, border: '1.5px solid #232323' }}>\n      <path d={path} stroke=\"#4f8cff\" strokeWidth={2} fill=\"none\" />\n    </svg>\n  );\n}\n\nfunction MiniBarChart({ data = [], width = 520, height = 180, labelKey = 'name', valueKey = 'count' }) {\n  if (!data || data.length === 0) return <div style={{ color: '#bfc9d9' }}>No data</div>;\n  const padding = 24;\n  const maxVal = Math.max(1, Math.max(...data.map(d => d[valueKey])));\n  const barHeight = (height - 2 * padding) / data.length;\n  return (\n    <svg width={width} height={height} style={{ background: '#111', borderRadius: 12, border: '1.5px solid #232323' }}>\n      {data.map((d, i) => {\n        const y = padding + i * barHeight;\n        const w = ((d[valueKey] / maxVal) * (width - 2 * padding));\n        return (\n          <g key={i}>\n            <rect x={padding} y={y + 4} width={w} height={barHeight - 8} fill=\"#a259ff\" opacity={0.8} />\n            <text x={padding + 6} y={y + barHeight / 2 + 4} fill=\"#fff\" fontSize={12}>{d[labelKey]}</text>\n            <text x={padding + w + 8} y={y + barHeight / 2 + 4} fill=\"#bfc9d9\" fontSize={12}>{d[valueKey]}</text>\n          </g>\n        );\n      })}\n    </svg>\n  );\n}\n\nfunction StatsAndQuery({ projectId }) {\n  const [stats, setStats] = useState(null);\n  const [loadingStats, setLoadingStats] = useState(true);\n  const [query, setQuery] = useState('SELECT * FROM handwritten_texts LIMIT 5;');\n  const [queryResult, setQueryResult] = useState(null);\n  const [queryError, setQueryError] = useState('');\n  const [queryLoading, setQueryLoading] = useState(false);\n\n  const [projects, setProjects] = useState([]);\n  const [schemas, setSchemas] = useState([]);\n  const [tables, setTables] = useState([]);\n  const [schemaFilter, setSchemaFilter] = useState('');\n  const [activeTab, setActiveTab] = useState('overview'); // overview | browse | query | charts\n\n  const [projectCounts, setProjectCounts] = useState([]);\n  const [activitySeries, setActivitySeries] = useState([]);\n  const [lengthHistogram, setLengthHistogram] = useState({ bins: [], min: 0, max: 0 });\n  const [topFilenames, setTopFilenames] = useState([]);\n\n  // Browse builder state\n  const [browseSchema, setBrowseSchema] = useState('public');\n  const [browseTable, setBrowseTable] = useState('handwritten_texts');\n  const [browseLimit, setBrowseLimit] = useState(50);\n  const [browseFilters, setBrowseFilters] = useState([]); // [{ col, op, val }]\n  const [browseColumns, setBrowseColumns] = useState([]);\n  const [browseRows, setBrowseRows] = useState([]);\n\n  useEffect(() => {\n    const url = projectId ? `${apiUrl('/stats')}?project_id=${encodeURIComponent(projectId)}` : apiUrl('/stats');\n    fetch(url)\n      .then(res => res.json())\n      .then(data => setStats(data))\n      .finally(() => setLoadingStats(false));\n  }, [projectId]);\n\n  useEffect(() => {\n    // Load projects\n    fetch(apiUrl('/projects/'))\n      .then(res => res.json())\n      .then(data => setProjects(Array.isArray(data) ? data : []))\n      .catch(() => setProjects([]));\n\n    // Load schemas\n    fetch(apiUrl('/db/schemas'))\n      .then(res => res.json())\n      .then(data => setSchemas(Array.isArray(data.schemas) ? data.schemas : []))\n      .catch(() => setSchemas([]));\n\n    // Load analytics\n    fetch(apiUrl('/analytics/project_counts'))\n      .then(res => res.json())\n      .then(data => setProjectCounts(Array.isArray(data.projects) ? data.projects : []))\n      .catch(() => setProjectCounts([]));\n  }, []);\n\n  useEffect(() => {\n    const url = schemaFilter ? `${apiUrl('/db/tables')}?schema=${encodeURIComponent(schemaFilter)}` : apiUrl('/db/tables');\n    fetch(url)\n      .then(res => res.json())\n      .then(data => setTables(Array.isArray(data.tables) ? data.tables : []))\n      .catch(() => setTables([]));\n  }, [schemaFilter]);\n\n  useEffect(() => {\n    const base = `${apiUrl('/analytics/activity')}`;\n    const url = projectId ? `${base}?project_id=${encodeURIComponent(projectId)}` : base;\n    fetch(url)\n      .then(res => res.json())\n      .then(data => setActivitySeries(Array.isArray(data.series) ? data.series : []))\n      .catch(() => setActivitySeries([]));\n\n    const baseH = `${apiUrl('/analytics/length_histogram')}`;\n    const urlH = projectId ? `${baseH}?project_id=${encodeURIComponent(projectId)}` : baseH;\n    fetch(urlH)\n      .then(res => res.json())\n      .then(data => setLengthHistogram(data && data.bins ? data : { bins: [], min: 0, max: 0 }))\n      .catch(() => setLengthHistogram({ bins: [], min: 0, max: 0 }));\n\n    const baseTop = `${apiUrl('/analytics/top_filenames')}`;\n    const urlTop = projectId ? `${baseTop}?project_id=${encodeURIComponent(projectId)}` : baseTop;\n    fetch(urlTop)\n      .then(res => res.json())\n      .then(data => setTopFilenames(Array.isArray(data.top) ? data.top : []))\n      .catch(() => setTopFilenames([]));\n  }, [projectId]);\n\n  useEffect(() => {\n    // load columns for browse\n    fetch(`${apiUrl('/db/columns')}?schema=${encodeURIComponent(browseSchema)}&table=${encodeURIComponent(browseTable)}`)\n      .then(res => res.json())\n      .then(data => setBrowseColumns(Array.isArray(data.columns) ? data.columns : []))\n      .catch(() => setBrowseColumns([]));\n  }, [browseSchema, browseTable]);\n\n  const handleQuery = async (e) => {\n    e.preventDefault();\n    setQueryLoading(true);\n    setQueryError('');\n    setQueryResult(null);\n    try {\n      const res = await fetch(apiUrl('/texts/raw_query'), {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ query }),\n      });\n      const data = await res.json();\n      if (data.error) {\n        setQueryError(data.error);\n      } else {\n        setQueryResult(data);\n      }\n    } catch (err) {\n      setQueryError('Failed to run query');\n    }\n    setQueryLoading(false);\n  };\n\n  const runBrowse = async () => {\n    const whereParts = [];\n    if (projectId) whereParts.push(`project_id = ${Number(projectId)}`);\n    browseFilters.forEach(({ col, op, val }) => {\n      if (!col || !op) return;\n      const safeVal = String(val ?? '').replace(/'/g, \"''\");\n      if (op === 'contains') whereParts.push(`${col} ILIKE '%${safeVal}%'`);\n      else if (op === '=') whereParts.push(`${col} = '${safeVal}'`);\n      else if (op === '!=') whereParts.push(`${col} != '${safeVal}'`);\n      else if (op === 'is null') whereParts.push(`${col} IS NULL`);\n      else if (op === 'is not null') whereParts.push(`${col} IS NOT NULL`);\n    });\n    const whereClause = whereParts.length ? ` WHERE ${whereParts.join(' AND ')}` : '';\n    const sql = `SELECT * FROM ${browseSchema}.${browseTable}${whereClause} ORDER BY 1 DESC LIMIT ${Number(browseLimit) || 50};`;\n    setQuery(sql);\n    setActiveTab('query');\n    // Auto-run\n    try {\n      setQueryLoading(true);\n      setQueryError('');\n      setQueryResult(null);\n      const res = await fetch(apiUrl('/texts/raw_query'), {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ query: sql }),\n      });\n      const data = await res.json();\n      if (!res.ok || data.error) {\n        setQueryError(data.error || 'Query failed');\n      } else {\n        setQueryResult(data);\n      }\n    } catch (e) {\n      setQueryError('Query failed');\n    } finally {\n      setQueryLoading(false);\n    }\n  };\n\n  const addFilterRow = () => setBrowseFilters(prev => [...prev, { col: '', op: 'contains', val: '' }]);\n  const updateFilter = (idx, patch) => setBrowseFilters(prev => prev.map((f, i) => (i === idx ? { ...f, ...patch } : f)));\n  const removeFilter = (idx) => setBrowseFilters(prev => prev.filter((_, i) => i !== idx));\n\n  return (\n    <div className=\"main-responsive-box\" style={{ width: '100%', maxWidth: 1200, margin: '0 auto', padding: '0 5vw' }}>\n      <h2 style={{ fontSize: 38, marginBottom: 16, ...accentText }}>Database Explorer</h2>\n      <div className=\"row\" style={{ gap: 16 }}>\n        <div className=\"col-12 col-lg-3\" style={{ minWidth: 260 }}>\n          <div style={{ background: '#111', border: '1.5px solid #232323', borderRadius: 12, padding: 12 }}>\n            <h6 style={{ color: '#fff', fontWeight: 700 }}>Navigator</h6>\n            <div style={{ color: '#bfc9d9', marginTop: 8, marginBottom: 8 }}>Projects</div>\n            <div style={{ maxHeight: 200, overflowY: 'auto' }}>\n              {projects.map(p => (\n                <div key={p.id} style={{ display: 'flex', justifyContent: 'space-between', color: '#bfc9d9', padding: '6px 8px', borderRadius: 8, border: '1px solid #232323', marginBottom: 6 }}>\n                  <span style={{ color: '#fff' }}>{p.name}</span>\n                  <span style={{ opacity: 0.8 }}>{p.description ? '' : ''}</span>\n                </div>\n              ))}\n            </div>\n            <div style={{ color: '#bfc9d9', marginTop: 12, marginBottom: 8 }}>Schemas & Tables</div>\n            <select value={schemaFilter} onChange={e => setSchemaFilter(e.target.value)} className=\"form-select form-select-sm bg-dark text-white\" style={{ border: '1.5px solid #232323', marginBottom: 8 }}>\n              <option value=\"\">All (user schemas)</option>\n              {schemas.map(s => (<option key={s} value={s}>{s}</option>))}\n            </select>\n            <div style={{ maxHeight: 260, overflowY: 'auto' }}>\n              {tables.map(t => (\n                <div key={`${t.schema}.${t.table}`} style={{ color: '#bfc9d9', padding: '4px 6px', cursor: 'pointer' }} onClick={() => { setBrowseSchema(t.schema); setBrowseTable(t.table); setActiveTab('browse'); }}>\n                  <span style={{ color: '#a259ff' }}>{t.schema}</span>.{t.table}\n                </div>\n              ))}\n            </div>\n          </div>\n        </div>\n        <div className=\"col\" style={{ minWidth: 0 }}>\n          <div className=\"d-flex gap-2 mb-3\">\n            {['overview', 'browse', 'query', 'charts'].map(tab => (\n              <button key={tab} onClick={() => setActiveTab(tab)} className={`btn ${activeTab === tab ? 'btn-primary' : 'btn-outline-light'}`} style={{ borderRadius: 10, padding: '8px 14px', textTransform: 'capitalize' }}>{tab}</button>\n            ))}\n          </div>\n\n          {activeTab === 'overview' && (\n            <div>\n              <div className=\"row g-3\">\n                <div className=\"col-12 col-md-3\"><div style={{ background: '#191919', border: '1.5px solid #232323', borderRadius: 12, padding: 16 }}>\n                  <div style={{ color: '#bfc9d9' }}>Total Rows</div>\n                  <div style={{ color: '#fff', fontSize: 28, fontWeight: 700 }}>{stats?.count ?? '—'}</div>\n                </div></div>\n                <div className=\"col-12 col-md-3\"><div style={{ background: '#191919', border: '1.5px solid #232323', borderRadius: 12, padding: 16 }}>\n                  <div style={{ color: '#bfc9d9' }}>Avg Text Length</div>\n                  <div style={{ color: '#fff', fontSize: 28, fontWeight: 700 }}>{stats?.avg_text_length ? stats.avg_text_length.toFixed(2) : '—'}</div>\n                </div></div>\n                <div className=\"col-12 col-md-6\"><div style={{ background: '#191919', border: '1.5px solid #232323', borderRadius: 12, padding: 16 }}>\n                  <div style={{ color: '#bfc9d9', marginBottom: 8 }}>Activity</div>\n                  <MiniLineChart data={activitySeries} />\n                </div></div>\n              </div>\n              <div className=\"row g-3 mt-1\">\n                <div className=\"col-12 col-md-6\"><div style={{ background: '#191919', border: '1.5px solid #232323', borderRadius: 12, padding: 16 }}>\n                  <div style={{ color: '#bfc9d9', marginBottom: 8 }}>Length distribution</div>\n                  <MiniBarChart data={lengthHistogram.bins.map(b => ({ name: `#${b.bucket}`, count: b.count }))} />\n                </div></div>\n                <div className=\"col-12 col-md-6\"><div style={{ background: '#191919', border: '1.5px solid #232323', borderRadius: 12, padding: 16 }}>\n                  <div style={{ color: '#bfc9d9', marginBottom: 8 }}>Top filenames</div>\n                  <MiniBarChart data={topFilenames} />\n                </div></div>\n              </div>\n              <div className=\"mt-3\" style={{ background: '#191919', border: '1.5px solid #232323', borderRadius: 12, padding: 12 }}>\n                <div style={{ color: '#bfc9d9', marginBottom: 6 }}>Top Projects</div>\n                <div className=\"d-flex flex-wrap gap-2\">\n                  {projectCounts.map(p => (\n                    <div key={p.id} style={{ background: '#111', border: '1px solid #232323', borderRadius: 10, padding: '10px 12px', color: '#fff' }}>\n                      {p.name}: <span style={{ color: '#4f8cff' }}>{p.count}</span>\n                    </div>\n                  ))}\n                </div>\n              </div>\n            </div>\n          )}\n\n          {activeTab === 'browse' && (\n            <div style={{ background: '#191919', border: '1.5px solid #232323', borderRadius: 12, padding: 16 }}>\n              <div className=\"row g-2 align-items-end\">\n                <div className=\"col-12 col-md-4\">\n                  <label className=\"form-label\" style={{ color: '#bfc9d9' }}>Schema</label>\n                  <input value={browseSchema} onChange={e => setBrowseSchema(e.target.value)} className=\"form-control bg-dark text-white\" />\n                </div>\n                <div className=\"col-12 col-md-4\">\n                  <label className=\"form-label\" style={{ color: '#bfc9d9' }}>Table</label>\n                  <input value={browseTable} onChange={e => setBrowseTable(e.target.value)} className=\"form-control bg-dark text-white\" />\n                </div>\n                <div className=\"col-6 col-md-2\">\n                  <label className=\"form-label\" style={{ color: '#bfc9d9' }}>Limit</label>\n                  <input type=\"number\" min={1} max={5000} value={browseLimit} onChange={e => setBrowseLimit(e.target.value)} className=\"form-control bg-dark text-white\" />\n                </div>\n                <div className=\"col-6 col-md-2 d-grid\">\n                  <button className=\"btn btn-primary\" onClick={runBrowse}>Run</button>\n                </div>\n              </div>\n              <div className=\"mt-3\">\n                <div className=\"d-flex justify-content-between align-items-center\">\n                  <div style={{ color: '#bfc9d9' }}>Filters</div>\n                  <button className=\"btn btn-sm btn-outline-light\" onClick={addFilterRow}>Add filter</button>\n                </div>\n                {browseFilters.length === 0 && <div style={{ color: '#666', marginTop: 8 }}>No filters</div>}\n                {browseFilters.map((f, idx) => (\n                  <div key={idx} className=\"row g-2 align-items-center mt-1\">\n                    <div className=\"col-12 col-md-4\">\n                      <select value={f.col} onChange={e => updateFilter(idx, { col: e.target.value })} className=\"form-select bg-dark text-white\">\n                        <option value=\"\">— column —</option>\n                        {browseColumns.map(c => (<option key={c.name} value={c.name}>{c.name}</option>))}\n                      </select>\n                    </div>\n                    <div className=\"col-6 col-md-3\">\n                      <select value={f.op} onChange={e => updateFilter(idx, { op: e.target.value })} className=\"form-select bg-dark text-white\">\n                        <option value=\"contains\">contains</option>\n                        <option value=\"=\">=</option>\n                        <option value=\"!=\">!=</option>\n                        <option value=\"is null\">is null</option>\n                        <option value=\"is not null\">is not null</option>\n                      </select>\n                    </div>\n                    <div className=\"col-6 col-md-4\">\n                      {!(f.op === 'is null' || f.op === 'is not null') && (\n                        <input value={f.val} onChange={e => updateFilter(idx, { val: e.target.value })} className=\"form-control bg-dark text-white\" />\n                      )}\n                    </div>\n                    <div className=\"col-12 col-md-1 d-grid\">\n                      <button className=\"btn btn-sm btn-outline-danger\" onClick={() => removeFilter(idx)}>X</button>\n                    </div>\n                  </div>\n                ))}\n                {browseColumns.length > 0 && (\n                  <div className=\"d-flex flex-wrap gap-2 mt-2\">\n                    {browseColumns.map(c => (\n                      <span key={c.name} className=\"badge bg-secondary\" style={{ background: '#232323', border: '1px solid #333', color: '#bfc9d9' }}>{c.name}</span>\n                    ))}\n                  </div>\n                )}\n              </div>\n            </div>\n          )}\n\n          {activeTab === 'query' && (\n            <div>\n              <h4 style={{ color: '#fff', fontSize: 22, fontWeight: 700, marginBottom: 12 }}>Run a SQL Query</h4>\n              <form onSubmit={handleQuery} className=\"row g-2 align-items-center mb-3\" style={{ marginBottom: 24 }}>\n                <div className=\"col-12 col-md-9 mb-2 mb-md-0\">\n                  <input\n                    type=\"text\"\n                    value={query}\n                    onChange={e => setQuery(e.target.value)}\n                    className=\"form-control bg-dark text-white\"\n                    style={{ padding: 16, borderRadius: 12, border: '2px solid #4f8cff', fontSize: 18, fontWeight: 500 }}\n                  />\n                </div>\n                <div className=\"col-12 col-md-3 d-grid\">\n                  <button type=\"submit\" className=\"btn btn-primary\" style={{ borderRadius: 12, padding: '14px 36px', fontWeight: 700, fontSize: 18 }} disabled={queryLoading}>\n                    Run\n                  </button>\n                </div>\n              </form>\n              {queryError && <div style={{ color: '#e63946' }}>{queryError}</div>}\n              {queryResult && (\n                <div style={{ overflowX: 'auto', marginTop: 16 }}>\n                  <table className=\"table table-dark table-bordered\" style={{ borderCollapse: 'collapse', width: '100%', background: '#191919', borderRadius: 16, overflow: 'hidden' }}>\n                    <thead>\n                      <tr>\n                        {queryResult.columns.map(col => (\n                          <th key={col} style={{ border: '1.5px solid #232323', padding: 14, background: '#232323', color: '#a259ff', fontSize: 18 }}>{col}</th>\n                        ))}\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {queryResult.rows.map((row, i) => (\n                        <tr key={i}>\n                          {row.map((cell, j) => (\n                            <td key={j} style={{ border: '1.5px solid #232323', padding: 14, color: '#fff', fontSize: 17 }}>{String(cell)}</td>\n                          ))}\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                </div>\n              )}\n            </div>\n          )}\n\n          {activeTab === 'charts' && (\n            <div className=\"row g-3\">\n              <div className=\"col-12 col-lg-7\">\n                <div style={{ background: '#191919', border: '1.5px solid #232323', borderRadius: 12, padding: 16 }}>\n                  <div style={{ color: '#bfc9d9', marginBottom: 8 }}>Rows over time</div>\n                  <MiniLineChart data={activitySeries} width={720} height={220} />\n                </div>\n              </div>\n              <div className=\"col-12 col-lg-5\">\n                <div style={{ background: '#191919', border: '1.5px solid #232323', borderRadius: 12, padding: 16 }}>\n                  <div style={{ color: '#bfc9d9', marginBottom: 8 }}>Length distribution</div>\n                  <MiniBarChart data={lengthHistogram.bins.map(b => ({ name: `#${b.bucket}`, count: b.count }))} width={520} height={220} />\n                </div>\n              </div>\n              <div className=\"col-12\">\n                <div style={{ background: '#191919', border: '1.5px solid #232323', borderRadius: 12, padding: 16 }}>\n                  <div style={{ color: '#bfc9d9', marginBottom: 8 }}>Top filenames</div>\n                  <MiniBarChart data={topFilenames} width={1080} height={220} />\n                </div>\n              </div>\n            </div>\n          )}\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default StatsAndQuery; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}