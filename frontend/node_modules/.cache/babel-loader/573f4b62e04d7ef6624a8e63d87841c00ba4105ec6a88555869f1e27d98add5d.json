{"ast":null,"code":"import React,{useState,useEffect}from'react';import SavedTexts from'./SavedTexts';import QueryTexts from'./QueryTexts';import SimilaritySearch from'./SimilaritySearch';import StatsAndQuery from'./StatsAndQuery';import Summarize from'./Summarize';import{apiUrl}from'./api';// Global style injection for demo\nimport{jsx as _jsx,jsxs as _jsxs,Fragment as _Fragment}from\"react/jsx-runtime\";const globalStyle=`\n  body {\n    background: #000 !important;\n    color: #fff !important;\n    font-family: 'Poppins', 'Inter', 'Helvetica Neue', Arial, sans-serif !important;\n    margin: 0;\n    padding: 0;\n  }\n`;if(typeof document!=='undefined'&&!document.getElementById('bs-global-style')){const style=document.createElement('style');style.id='bs-global-style';style.innerHTML=globalStyle;document.head.appendChild(style);}const accentGradient='linear-gradient(90deg, #a259ff 0%, #4f8cff 100%)';const accentText={background:accentGradient,WebkitBackgroundClip:'text',WebkitTextFillColor:'transparent',fontWeight:700};function App(){const[file,setFile]=useState(null);const[text,setText]=useState('');const[loading,setLoading]=useState(false);const[error,setError]=useState('');const[preview,setPreview]=useState(null);const[page,setPage]=useState('ocr');const[provider,setProvider]=useState('openai');const[ollamaModels,setOllamaModels]=useState([]);const[ollamaModel,setOllamaModel]=useState('llama3');const[ollamaOnlyRunning,setOllamaOnlyRunning]=useState(false);const[ollamaModelsRefresh,setOllamaModelsRefresh]=useState(0);const[dragActive,setDragActive]=useState(false);const[projects,setProjects]=useState([]);const[currentProjectId,setCurrentProjectId]=useState('');const[newProjectName,setNewProjectName]=useState('');const[newProjectDesc,setNewProjectDesc]=useState('');const[projectError,setProjectError]=useState('');const[copied,setCopied]=useState(false);const[theme,setTheme]=useState(()=>typeof window!=='undefined'?localStorage.getItem('theme')||'dark':'dark');useEffect(()=>{// Load projects on app start\nfetch(apiUrl('/projects/')).then(res=>res.json()).then(data=>{setProjects(Array.isArray(data)?data:[]);if(Array.isArray(data)&&data.length>0){setCurrentProjectId(String(data[0].id));}}).catch(()=>setProjects([]));// Restore provider & model\nconst savedProvider=localStorage.getItem('ocr_provider');const savedOllamaModel=localStorage.getItem('ocr_ollama_model');if(savedProvider)setProvider(savedProvider);if(savedOllamaModel)setOllamaModel(savedOllamaModel);},[]);useEffect(()=>{document.body.classList.toggle('theme-light',theme==='light');if(typeof window!=='undefined')localStorage.setItem('theme',theme);},[theme]);useEffect(()=>{if(typeof window!=='undefined')localStorage.setItem('ocr_provider',provider);},[provider]);useEffect(()=>{if(typeof window!=='undefined')localStorage.setItem('ocr_ollama_model',ollamaModel);},[ollamaModel]);const handleCreateProject=async()=>{setProjectError('');const name=newProjectName.trim();if(!name){setProjectError('Project name required');return;}try{const res=await fetch(apiUrl('/projects/'),{method:'POST',headers:{'Content-Type':'application/json'},body:JSON.stringify({name,description:newProjectDesc.trim()||undefined})});const data=await res.json();if(!res.ok){setProjectError(data.detail||data.error||'Failed to create project');return;}setProjects(prev=>[data,...prev]);setCurrentProjectId(String(data.id));setNewProjectName('');setNewProjectDesc('');}catch(e){setProjectError('Network error creating project');}};useEffect(()=>{if(provider==='ollama'){const endpoint=ollamaOnlyRunning?'/ollama/models/running':'/ollama/models';fetch(apiUrl(endpoint)).then(res=>res.json()).then(data=>{if(data.models){setOllamaModels(data.models);setOllamaModel(prev=>data.models.includes(prev)?prev:data.models[0]||'llama3');}else{setOllamaModels([]);}}).catch(()=>setOllamaModels([]));}},[provider,ollamaOnlyRunning,ollamaModelsRefresh]);const handleFileChange=e=>{const selectedFile=e.target.files[0];setFile(selectedFile);setText('');setError('');if(selectedFile){setPreview(URL.createObjectURL(selectedFile));}else{setPreview(null);}};const handleSubmit=async e=>{e.preventDefault();if(!file)return;setLoading(true);setText('');setError('');const formData=new FormData();formData.append('file',file);let url=apiUrl(`/ocr/?provider=${provider}`);if(provider==='ollama'&&ollamaModel){url+=`&model=${encodeURIComponent(ollamaModel)}`;}if(currentProjectId){url+=`&project_id=${encodeURIComponent(currentProjectId)}`;}try{const res=await fetch(url,{method:'POST',body:formData});const data=await res.json();if(res.ok){setText(data.text);}else{setError(data.error||'Error extracting text');}}catch(err){setError('Network error');}setLoading(false);};// Drag and drop handlers\nconst handleDragOver=e=>{e.preventDefault();e.stopPropagation();setDragActive(true);};const handleDragLeave=e=>{e.preventDefault();e.stopPropagation();setDragActive(false);};const handleDrop=e=>{e.preventDefault();e.stopPropagation();setDragActive(false);if(e.dataTransfer.files&&e.dataTransfer.files[0]){handleFileChange({target:{files:e.dataTransfer.files}});}};const handleClearFile=()=>{setFile(null);setPreview(null);setText('');setError('');const input=document.getElementById('file-upload');if(input)input.value='';};// Replace nav and mainBox with Bootstrap classes and add a style tag for mobile tweaks\nconst nav=/*#__PURE__*/_jsxs(\"nav\",{className:\"navbar navbar-expand-lg navbar-dark bg-black sticky-top mb-4\",style:{borderBottom:'1px solid #222',minHeight:64,zIndex:10},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"container-fluid justify-content-between\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"d-flex align-items-center gap-3\",children:/*#__PURE__*/_jsx(\"span\",{className:\"brand sheen\",style:{fontSize:20},children:\"OCR AI\"})}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{className:`btn btn-sm ${theme==='dark'?'btn-primary':'btn-outline-light'}`,onClick:()=>setTheme('dark'),children:\"Dark\"}),/*#__PURE__*/_jsx(\"button\",{className:`btn btn-sm ${theme==='light'?'btn-primary':'btn-outline-light'}`,onClick:()=>setTheme('light'),children:\"Light\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex flex-wrap gap-2 gap-md-3 align-items-center\",children:[/*#__PURE__*/_jsx(\"button\",{onClick:()=>setPage('ocr'),className:`btn ${page==='ocr'?'btn-primary':'btn-outline-light'}`,style:navBtnStyle(page==='ocr'),children:\"OCR Image\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setPage('saved'),className:`btn ${page==='saved'?'btn-primary':'btn-outline-light'}`,style:navBtnStyle(page==='saved'),children:\"Saved Texts\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setPage('query'),className:`btn ${page==='query'?'btn-primary':'btn-outline-light'}`,style:navBtnStyle(page==='query'),children:\"Query Texts\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setPage('similarity'),className:`btn ${page==='similarity'?'btn-primary':'btn-outline-light'}`,style:navBtnStyle(page==='similarity'),children:\"Similarity Search\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setPage('stats'),className:`btn ${page==='stats'?'btn-primary':'btn-outline-light'}`,style:navBtnStyle(page==='stats'),children:\"Stats & Query\"}),/*#__PURE__*/_jsx(\"button\",{onClick:()=>setPage('summarize'),className:`btn ${page==='summarize'?'btn-primary':'btn-outline-light'}`,style:navBtnStyle(page==='summarize'),children:\"Summarize\"})]})]}),projectError&&/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",style:{color:'#e63946',fontSize:12,paddingTop:6},children:projectError}),/*#__PURE__*/_jsx(\"div\",{className:\"container-fluid\",style:{borderTop:'1px solid #222',paddingTop:10,paddingBottom:10},children:/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center gap-2 flex-wrap\",children:[/*#__PURE__*/_jsx(\"label\",{className:\"text-light me-1\",style:{fontWeight:600},children:\"Project:\"}),/*#__PURE__*/_jsxs(\"select\",{value:currentProjectId,onChange:e=>setCurrentProjectId(e.target.value),className:\"form-select form-select-sm bg-dark text-white\",style:{border:'1px solid #333',minWidth:160},children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"\\u2014 None \\u2014\"}),projects.map(p=>/*#__PURE__*/_jsx(\"option\",{value:p.id,children:p.name},p.id))]}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"New project name\",value:newProjectName,onChange:e=>setNewProjectName(e.target.value),className:\"form-control form-control-sm bg-dark text-white\",style:{border:'1px solid #333',minWidth:160}}),/*#__PURE__*/_jsx(\"input\",{type:\"text\",placeholder:\"Description (opt)\",value:newProjectDesc,onChange:e=>setNewProjectDesc(e.target.value),className:\"form-control form-control-sm bg-dark text-white\",style:{border:'1px solid #333',minWidth:200}}),/*#__PURE__*/_jsx(\"button\",{type:\"button\",className:\"btn btn-sm btn-outline-light\",onClick:handleCreateProject,children:\"Create\"})]})})]});const mainBox={width:'100%',maxWidth:1100,margin:'0 auto',background:'#111',borderRadius:32,boxShadow:'0 4px 32px rgba(0,0,0,0.18)',padding:'48px 5vw',marginBottom:40,minHeight:400,display:'flex',flexDirection:'column',alignItems:'center'};// Add a style tag for mobile tweaks\nconst mobileStyle=`\n  @media (max-width: 600px) {\n    h1, h2, h4 { font-size: 7vw !important; }\n    .navbar .btn { font-size: 4vw !important; padding: 8px 12px !important; }\n    .container-fluid, .main-responsive-box { padding: 0 2vw !important; }\n    .main-responsive-box { padding: 24px 2vw !important; border-radius: 18px !important; }\n    form, .main-responsive-box { min-width: 0 !important; }\n  }\n  `;if(typeof document!=='undefined'&&!document.getElementById('mobile-style')){const style=document.createElement('style');style.id='mobile-style';style.innerHTML=mobileStyle;document.head.appendChild(style);}if(page==='saved'){return/*#__PURE__*/_jsxs(_Fragment,{children:[nav,/*#__PURE__*/_jsx(\"div\",{className:\"main-responsive-box\",style:mainBox,children:/*#__PURE__*/_jsx(SavedTexts,{projectId:currentProjectId})})]});}if(page==='query'){return/*#__PURE__*/_jsxs(_Fragment,{children:[nav,/*#__PURE__*/_jsx(\"div\",{className:\"main-responsive-box\",style:mainBox,children:/*#__PURE__*/_jsx(QueryTexts,{projectId:currentProjectId})})]});}if(page==='similarity'){return/*#__PURE__*/_jsxs(_Fragment,{children:[nav,/*#__PURE__*/_jsx(\"div\",{className:\"main-responsive-box\",style:mainBox,children:/*#__PURE__*/_jsx(SimilaritySearch,{projectId:currentProjectId})})]});}if(page==='stats'){return/*#__PURE__*/_jsxs(_Fragment,{children:[nav,/*#__PURE__*/_jsx(\"div\",{className:\"main-responsive-box\",style:mainBox,children:/*#__PURE__*/_jsx(StatsAndQuery,{projectId:currentProjectId})})]});}if(page==='summarize'){return/*#__PURE__*/_jsxs(_Fragment,{children:[nav,/*#__PURE__*/_jsx(\"div\",{className:\"main-responsive-box\",style:mainBox,children:/*#__PURE__*/_jsx(Summarize,{projectId:currentProjectId})})]});}return/*#__PURE__*/_jsxs(_Fragment,{children:[nav,/*#__PURE__*/_jsxs(\"div\",{className:\"section glass-card main-responsive-box\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"hero\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"small-pill center mb-8\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-stars\"}),\" Smart OCR with AI\"]}),/*#__PURE__*/_jsx(\"h1\",{className:\"brand\",children:\"OCR Image to Text\"}),/*#__PURE__*/_jsx(\"p\",{children:\"Upload an image and extract the text within it using AI. Choose your preferred LLM provider and model.\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"stepper\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"step\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"index\",children:\"1\"}),/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Add image\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"step\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"index\",children:\"2\"}),/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Pick provider\"})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"step\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"index\",children:\"3\"}),/*#__PURE__*/_jsx(\"span\",{className:\"label\",children:\"Extract & copy\"})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"split\",children:[/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{onDragOver:handleDragOver,onDragLeave:handleDragLeave,onDrop:handleDrop,className:`dropzone ${dragActive?'active':''}`,onClick:()=>document.getElementById('file-upload').click(),children:[/*#__PURE__*/_jsxs(\"div\",{className:\"inner\",children:[file?file.name:dragActive?'Drop your image here…':'Tap to take a photo or choose an image (or drag & drop)',file&&/*#__PURE__*/_jsxs(\"button\",{type:\"button\",onClick:e=>{e.stopPropagation();handleClearFile();},className:\"btn btn-ghost\",style:{position:'absolute',top:8,right:8},children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-x\"}),\" Remove\"]}),/*#__PURE__*/_jsx(\"input\",{id:\"file-upload\",type:\"file\",accept:\"image/*\",capture:\"environment\",onChange:handleFileChange,style:{display:'none'}})]}),/*#__PURE__*/_jsx(\"div\",{className:\"hint\",children:\"PNG, JPG up to ~10MB\"})]}),/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,className:\"mt-16\",style:{display:'flex',flexDirection:'column',gap:14},children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center gap-2 flex-wrap\",children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"provider-select\",style:{fontWeight:600},children:\"LLM Provider:\"}),/*#__PURE__*/_jsxs(\"select\",{id:\"provider-select\",value:provider,onChange:e=>setProvider(e.target.value),className:\"form-select bg-dark text-white\",style:{padding:'10px 18px',borderRadius:8,border:'1.5px solid #4f8cff',fontSize:17,fontWeight:600},children:[/*#__PURE__*/_jsx(\"option\",{value:\"openai\",children:\"OpenAI\"}),/*#__PURE__*/_jsx(\"option\",{value:\"ollama\",children:\"Ollama\"})]}),provider==='ollama'&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"label\",{htmlFor:\"ollama-model-select\",className:\"ms-2\",style:{fontWeight:600},children:\"Model:\"}),/*#__PURE__*/_jsx(\"select\",{id:\"ollama-model-select\",value:ollamaModel,onChange:e=>setOllamaModel(e.target.value),className:\"form-select bg-dark text-white\",style:{padding:'10px 18px',borderRadius:8,border:'1.5px solid #4f8cff',fontSize:17,fontWeight:600},disabled:ollamaModels.length===0,children:ollamaModels.map(model=>/*#__PURE__*/_jsx(\"option\",{value:model,children:model},model))}),/*#__PURE__*/_jsxs(\"div\",{className:\"form-check form-switch\",style:{color:'#bfc9d9',fontWeight:600},children:[/*#__PURE__*/_jsx(\"input\",{className:\"form-check-input\",type:\"checkbox\",id:\"only-running-switch\",checked:ollamaOnlyRunning,onChange:e=>setOllamaOnlyRunning(e.target.checked)}),/*#__PURE__*/_jsx(\"label\",{className:\"form-check-label\",htmlFor:\"only-running-switch\",children:\"Only running\"})]}),/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn btn-ghost\",onClick:()=>setOllamaModelsRefresh(v=>v+1),children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-arrow-repeat\"}),\" Refresh\"]})]})]}),/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex gap-2\",children:[/*#__PURE__*/_jsx(\"button\",{type:\"submit\",disabled:!file||loading,className:\"btn btn-gradient\",children:loading?'Extracting…':'Extract Text'}),text&&/*#__PURE__*/_jsxs(\"button\",{type:\"button\",className:\"btn btn-ghost\",onClick:()=>{navigator.clipboard.writeText(text);setCopied(true);setTimeout(()=>setCopied(false),1200);},children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-clipboard2\"}),\" \",copied?'Copied':'Copy']})]})]})]}),/*#__PURE__*/_jsxs(\"div\",{children:[preview&&/*#__PURE__*/_jsx(\"div\",{className:\"image-frame mb-16\",children:/*#__PURE__*/_jsx(\"img\",{src:preview,alt:\"Preview\"})}),/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"d-flex align-items-center justify-content-between mb-8\",children:[/*#__PURE__*/_jsx(\"h4\",{style:{...accentText,fontSize:24,margin:0},children:\"Extracted Text\"}),/*#__PURE__*/_jsxs(\"span\",{className:\"small-pill\",children:[/*#__PURE__*/_jsx(\"i\",{className:\"bi bi-cpu\"}),\" \",provider==='ollama'?`Ollama (${ollamaModel})`:'OpenAI']})]}),loading?/*#__PURE__*/_jsx(\"div\",{className:\"pre skeleton\",style:{minHeight:160}}):text?/*#__PURE__*/_jsx(\"pre\",{className:\"pre\",children:text}):/*#__PURE__*/_jsx(\"div\",{className:\"pre\",style:{color:'#8892a6'},children:\"No text yet. Upload an image and click Extract.\"})]})]})]})]}),/*#__PURE__*/_jsxs(\"footer\",{className:\"footer\",children:[\"\\xA9 \",new Date().getFullYear(),\" OCR AI Platform Demo\"]})]});}const navBtnStyle=active=>({background:active?accentGradient:'transparent',color:active?'#fff':'#bfc9d9',border:'none',borderRadius:8,padding:'12px 32px',fontWeight:700,fontSize:18,cursor:'pointer',marginBottom:0,marginRight:0,letterSpacing:0.5,transition:'background 0.2s, color 0.2s'});export default App;","map":{"version":3,"names":["React","useState","useEffect","SavedTexts","QueryTexts","SimilaritySearch","StatsAndQuery","Summarize","apiUrl","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","globalStyle","document","getElementById","style","createElement","id","innerHTML","head","appendChild","accentGradient","accentText","background","WebkitBackgroundClip","WebkitTextFillColor","fontWeight","App","file","setFile","text","setText","loading","setLoading","error","setError","preview","setPreview","page","setPage","provider","setProvider","ollamaModels","setOllamaModels","ollamaModel","setOllamaModel","ollamaOnlyRunning","setOllamaOnlyRunning","ollamaModelsRefresh","setOllamaModelsRefresh","dragActive","setDragActive","projects","setProjects","currentProjectId","setCurrentProjectId","newProjectName","setNewProjectName","newProjectDesc","setNewProjectDesc","projectError","setProjectError","copied","setCopied","theme","setTheme","window","localStorage","getItem","fetch","then","res","json","data","Array","isArray","length","String","catch","savedProvider","savedOllamaModel","body","classList","toggle","setItem","handleCreateProject","name","trim","method","headers","JSON","stringify","description","undefined","ok","detail","prev","e","endpoint","models","includes","handleFileChange","selectedFile","target","files","URL","createObjectURL","handleSubmit","preventDefault","formData","FormData","append","url","encodeURIComponent","err","handleDragOver","stopPropagation","handleDragLeave","handleDrop","dataTransfer","handleClearFile","input","value","nav","className","borderBottom","minHeight","zIndex","children","fontSize","onClick","navBtnStyle","color","paddingTop","borderTop","paddingBottom","onChange","border","minWidth","map","p","type","placeholder","mainBox","width","maxWidth","margin","borderRadius","boxShadow","padding","marginBottom","display","flexDirection","alignItems","mobileStyle","projectId","onDragOver","onDragLeave","onDrop","click","position","top","right","accept","capture","onSubmit","gap","htmlFor","disabled","model","checked","v","navigator","clipboard","writeText","setTimeout","src","alt","Date","getFullYear","active","cursor","marginRight","letterSpacing","transition"],"sources":["/Users/riccardorubini/Devs/AI-platform/OCR-test/frontend/src/App.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport SavedTexts from './SavedTexts';\nimport QueryTexts from './QueryTexts';\nimport SimilaritySearch from './SimilaritySearch';\nimport StatsAndQuery from './StatsAndQuery';\nimport Summarize from './Summarize';\nimport { apiUrl } from './api';\n\n// Global style injection for demo\nconst globalStyle = `\n  body {\n    background: #000 !important;\n    color: #fff !important;\n    font-family: 'Poppins', 'Inter', 'Helvetica Neue', Arial, sans-serif !important;\n    margin: 0;\n    padding: 0;\n  }\n`;\nif (typeof document !== 'undefined' && !document.getElementById('bs-global-style')) {\n  const style = document.createElement('style');\n  style.id = 'bs-global-style';\n  style.innerHTML = globalStyle;\n  document.head.appendChild(style);\n}\n\nconst accentGradient = 'linear-gradient(90deg, #a259ff 0%, #4f8cff 100%)';\nconst accentText = {\n  background: accentGradient,\n  WebkitBackgroundClip: 'text',\n  WebkitTextFillColor: 'transparent',\n  fontWeight: 700,\n};\n\nfunction App() {\n  const [file, setFile] = useState(null);\n  const [text, setText] = useState('');\n  const [loading, setLoading] = useState(false);\n  const [error, setError] = useState('');\n  const [preview, setPreview] = useState(null);\n  const [page, setPage] = useState('ocr');\n  const [provider, setProvider] = useState('openai');\n  const [ollamaModels, setOllamaModels] = useState([]);\n  const [ollamaModel, setOllamaModel] = useState('llama3');\n  const [ollamaOnlyRunning, setOllamaOnlyRunning] = useState(false);\n  const [ollamaModelsRefresh, setOllamaModelsRefresh] = useState(0);\n  const [dragActive, setDragActive] = useState(false);\n  const [projects, setProjects] = useState([]);\n  const [currentProjectId, setCurrentProjectId] = useState('');\n  const [newProjectName, setNewProjectName] = useState('');\n  const [newProjectDesc, setNewProjectDesc] = useState('');\n  const [projectError, setProjectError] = useState('');\n  const [copied, setCopied] = useState(false);\n  const [theme, setTheme] = useState(() => (typeof window !== 'undefined' ? (localStorage.getItem('theme') || 'dark') : 'dark'));\n\n  useEffect(() => {\n    // Load projects on app start\n    fetch(apiUrl('/projects/'))\n      .then(res => res.json())\n      .then(data => {\n        setProjects(Array.isArray(data) ? data : []);\n        if (Array.isArray(data) && data.length > 0) {\n          setCurrentProjectId(String(data[0].id));\n        }\n      })\n      .catch(() => setProjects([]));\n\n    // Restore provider & model\n    const savedProvider = localStorage.getItem('ocr_provider');\n    const savedOllamaModel = localStorage.getItem('ocr_ollama_model');\n    if (savedProvider) setProvider(savedProvider);\n    if (savedOllamaModel) setOllamaModel(savedOllamaModel);\n  }, []);\n\n  useEffect(() => {\n    document.body.classList.toggle('theme-light', theme === 'light');\n    if (typeof window !== 'undefined') localStorage.setItem('theme', theme);\n  }, [theme]);\n\n  useEffect(() => {\n    if (typeof window !== 'undefined') localStorage.setItem('ocr_provider', provider);\n  }, [provider]);\n  useEffect(() => {\n    if (typeof window !== 'undefined') localStorage.setItem('ocr_ollama_model', ollamaModel);\n  }, [ollamaModel]);\n\n  const handleCreateProject = async () => {\n    setProjectError('');\n    const name = newProjectName.trim();\n    if (!name) {\n      setProjectError('Project name required');\n      return;\n    }\n    try {\n      const res = await fetch(apiUrl('/projects/'), {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ name, description: newProjectDesc.trim() || undefined }),\n      });\n      const data = await res.json();\n      if (!res.ok) {\n        setProjectError(data.detail || data.error || 'Failed to create project');\n        return;\n      }\n      setProjects(prev => [data, ...prev]);\n      setCurrentProjectId(String(data.id));\n      setNewProjectName('');\n      setNewProjectDesc('');\n    } catch (e) {\n      setProjectError('Network error creating project');\n    }\n  };\n\n  useEffect(() => {\n    if (provider === 'ollama') {\n      const endpoint = ollamaOnlyRunning ? '/ollama/models/running' : '/ollama/models';\n      fetch(apiUrl(endpoint))\n        .then(res => res.json())\n        .then(data => {\n          if (data.models) {\n            setOllamaModels(data.models);\n            setOllamaModel(prev => (data.models.includes(prev) ? prev : (data.models[0] || 'llama3')));\n          } else {\n            setOllamaModels([]);\n          }\n        })\n        .catch(() => setOllamaModels([]));\n    }\n  }, [provider, ollamaOnlyRunning, ollamaModelsRefresh]);\n\n  const handleFileChange = (e) => {\n    const selectedFile = e.target.files[0];\n    setFile(selectedFile);\n    setText('');\n    setError('');\n    if (selectedFile) {\n      setPreview(URL.createObjectURL(selectedFile));\n    } else {\n      setPreview(null);\n    }\n  };\n\n  const handleSubmit = async (e) => {\n    e.preventDefault();\n    if (!file) return;\n    setLoading(true);\n    setText('');\n    setError('');\n    const formData = new FormData();\n    formData.append('file', file);\n    let url = apiUrl(`/ocr/?provider=${provider}`);\n    if (provider === 'ollama' && ollamaModel) {\n      url += `&model=${encodeURIComponent(ollamaModel)}`;\n    }\n    if (currentProjectId) {\n      url += `&project_id=${encodeURIComponent(currentProjectId)}`;\n    }\n    try {\n      const res = await fetch(url, {\n        method: 'POST',\n        body: formData,\n      });\n      const data = await res.json();\n      if (res.ok) {\n        setText(data.text);\n      } else {\n        setError(data.error || 'Error extracting text');\n      }\n    } catch (err) {\n      setError('Network error');\n    }\n    setLoading(false);\n  };\n\n  // Drag and drop handlers\n  const handleDragOver = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setDragActive(true);\n  };\n  const handleDragLeave = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setDragActive(false);\n  };\n  const handleDrop = (e) => {\n    e.preventDefault();\n    e.stopPropagation();\n    setDragActive(false);\n    if (e.dataTransfer.files && e.dataTransfer.files[0]) {\n      handleFileChange({ target: { files: e.dataTransfer.files } });\n    }\n  };\n\n  const handleClearFile = () => {\n    setFile(null);\n    setPreview(null);\n    setText('');\n    setError('');\n    const input = document.getElementById('file-upload');\n    if (input) input.value = '';\n  };\n\n  // Replace nav and mainBox with Bootstrap classes and add a style tag for mobile tweaks\n\n  const nav = (\n    <nav className=\"navbar navbar-expand-lg navbar-dark bg-black sticky-top mb-4\" style={{ borderBottom: '1px solid #222', minHeight: 64, zIndex: 10 }}>\n      <div className=\"container-fluid justify-content-between\">\n        <div className=\"d-flex align-items-center gap-3\">\n          <span className=\"brand sheen\" style={{ fontSize: 20 }}>OCR AI</span>\n        </div>\n        <div className=\"d-flex align-items-center gap-2\">\n          <button className={`btn btn-sm ${theme === 'dark' ? 'btn-primary' : 'btn-outline-light'}`} onClick={() => setTheme('dark')}>Dark</button>\n          <button className={`btn btn-sm ${theme === 'light' ? 'btn-primary' : 'btn-outline-light'}`} onClick={() => setTheme('light')}>Light</button>\n        </div>\n        <div className=\"d-flex flex-wrap gap-2 gap-md-3 align-items-center\">\n          <button onClick={() => setPage('ocr')} className={`btn ${page === 'ocr' ? 'btn-primary' : 'btn-outline-light'}`} style={navBtnStyle(page === 'ocr')}>OCR Image</button>\n          <button onClick={() => setPage('saved')} className={`btn ${page === 'saved' ? 'btn-primary' : 'btn-outline-light'}`} style={navBtnStyle(page === 'saved')}>Saved Texts</button>\n          <button onClick={() => setPage('query')} className={`btn ${page === 'query' ? 'btn-primary' : 'btn-outline-light'}`} style={navBtnStyle(page === 'query')}>Query Texts</button>\n          <button onClick={() => setPage('similarity')} className={`btn ${page === 'similarity' ? 'btn-primary' : 'btn-outline-light'}`} style={navBtnStyle(page === 'similarity')}>Similarity Search</button>\n          <button onClick={() => setPage('stats')} className={`btn ${page === 'stats' ? 'btn-primary' : 'btn-outline-light'}`} style={navBtnStyle(page === 'stats')}>Stats & Query</button>\n          <button onClick={() => setPage('summarize')} className={`btn ${page === 'summarize' ? 'btn-primary' : 'btn-outline-light'}`} style={navBtnStyle(page === 'summarize')}>Summarize</button>\n        </div>\n      </div>\n      {projectError && (\n        <div className=\"container-fluid\" style={{ color: '#e63946', fontSize: 12, paddingTop: 6 }}>{projectError}</div>\n      )}\n      <div className=\"container-fluid\" style={{ borderTop: '1px solid #222', paddingTop: 10, paddingBottom: 10 }}>\n        <div className=\"d-flex align-items-center gap-2 flex-wrap\">\n          <label className=\"text-light me-1\" style={{ fontWeight: 600 }}>Project:</label>\n          <select\n            value={currentProjectId}\n            onChange={e => setCurrentProjectId(e.target.value)}\n            className=\"form-select form-select-sm bg-dark text-white\"\n            style={{ border: '1px solid #333', minWidth: 160 }}\n          >\n            <option value=\"\">— None —</option>\n            {projects.map(p => (\n              <option key={p.id} value={p.id}>{p.name}</option>\n            ))}\n          </select>\n          <input\n            type=\"text\"\n            placeholder=\"New project name\"\n            value={newProjectName}\n            onChange={e => setNewProjectName(e.target.value)}\n            className=\"form-control form-control-sm bg-dark text-white\"\n            style={{ border: '1px solid #333', minWidth: 160 }}\n          />\n          <input\n            type=\"text\"\n            placeholder=\"Description (opt)\"\n            value={newProjectDesc}\n            onChange={e => setNewProjectDesc(e.target.value)}\n            className=\"form-control form-control-sm bg-dark text-white\"\n            style={{ border: '1px solid #333', minWidth: 200 }}\n          />\n          <button type=\"button\" className=\"btn btn-sm btn-outline-light\" onClick={handleCreateProject}>Create</button>\n        </div>\n      </div>\n    </nav>\n  );\n\n  const mainBox = {\n    width: '100%',\n    maxWidth: 1100,\n    margin: '0 auto',\n    background: '#111',\n    borderRadius: 32,\n    boxShadow: '0 4px 32px rgba(0,0,0,0.18)',\n    padding: '48px 5vw',\n    marginBottom: 40,\n    minHeight: 400,\n    display: 'flex',\n    flexDirection: 'column',\n    alignItems: 'center',\n  };\n\n  // Add a style tag for mobile tweaks\n  const mobileStyle = `\n  @media (max-width: 600px) {\n    h1, h2, h4 { font-size: 7vw !important; }\n    .navbar .btn { font-size: 4vw !important; padding: 8px 12px !important; }\n    .container-fluid, .main-responsive-box { padding: 0 2vw !important; }\n    .main-responsive-box { padding: 24px 2vw !important; border-radius: 18px !important; }\n    form, .main-responsive-box { min-width: 0 !important; }\n  }\n  `;\n  if (typeof document !== 'undefined' && !document.getElementById('mobile-style')) {\n    const style = document.createElement('style');\n    style.id = 'mobile-style';\n    style.innerHTML = mobileStyle;\n    document.head.appendChild(style);\n  }\n\n  if (page === 'saved') {\n    return (\n      <>\n        {nav}\n        <div className=\"main-responsive-box\" style={mainBox}>\n          <SavedTexts projectId={currentProjectId} />\n        </div>\n      </>\n    );\n  }\n\n  if (page === 'query') {\n    return (\n      <>\n        {nav}\n        <div className=\"main-responsive-box\" style={mainBox}>\n          <QueryTexts projectId={currentProjectId} />\n        </div>\n      </>\n    );\n  }\n\n  if (page === 'similarity') {\n    return (\n      <>\n        {nav}\n        <div className=\"main-responsive-box\" style={mainBox}>\n          <SimilaritySearch projectId={currentProjectId} />\n        </div>\n      </>\n    );\n  }\n\n  if (page === 'stats') {\n    return (\n      <>\n        {nav}\n        <div className=\"main-responsive-box\" style={mainBox}>\n          <StatsAndQuery projectId={currentProjectId} />\n        </div>\n      </>\n    );\n  }\n\n  if (page === 'summarize') {\n    return (\n      <>\n        {nav}\n        <div className=\"main-responsive-box\" style={mainBox}>\n          <Summarize projectId={currentProjectId} />\n        </div>\n      </>\n    );\n  }\n\n  return (\n    <>\n      {nav}\n      <div className=\"section glass-card main-responsive-box\">\n        <div className=\"hero\">\n          <div className=\"small-pill center mb-8\"><i className=\"bi bi-stars\"/> Smart OCR with AI</div>\n          <h1 className=\"brand\">OCR Image to Text</h1>\n          <p>Upload an image and extract the text within it using AI. Choose your preferred LLM provider and model.</p>\n        </div>\n\n        <div className=\"stepper\">\n          <div className=\"step\"><span className=\"index\">1</span><span className=\"label\">Add image</span></div>\n          <div className=\"step\"><span className=\"index\">2</span><span className=\"label\">Pick provider</span></div>\n          <div className=\"step\"><span className=\"index\">3</span><span className=\"label\">Extract & copy</span></div>\n        </div>\n\n        {/* Main split layout */}\n        <div className=\"split\">\n          <div>\n            {/* Drag and drop area */}\n            <div\n              onDragOver={handleDragOver}\n              onDragLeave={handleDragLeave}\n              onDrop={handleDrop}\n              className={`dropzone ${dragActive ? 'active' : ''}`}\n              onClick={() => document.getElementById('file-upload').click()}\n            >\n              <div className=\"inner\">\n                {file ? file.name : dragActive ? 'Drop your image here…' : 'Tap to take a photo or choose an image (or drag & drop)'}\n                {file && (\n                  <button\n                    type=\"button\"\n                    onClick={(e) => { e.stopPropagation(); handleClearFile(); }}\n                    className=\"btn btn-ghost\"\n                    style={{ position: 'absolute', top: 8, right: 8 }}\n                  >\n                    <i className=\"bi bi-x\"/> Remove\n                  </button>\n                )}\n                <input id=\"file-upload\" type=\"file\" accept=\"image/*\" capture=\"environment\" onChange={handleFileChange} style={{ display: 'none' }} />\n              </div>\n              <div className=\"hint\">PNG, JPG up to ~10MB</div>\n            </div>\n\n            {/* Provider controls */}\n            <form onSubmit={handleSubmit} className=\"mt-16\" style={{ display: 'flex', flexDirection: 'column', gap: 14 }}>\n              <div className=\"d-flex align-items-center gap-2 flex-wrap\">\n                <label htmlFor=\"provider-select\" style={{ fontWeight: 600 }}>LLM Provider:</label>\n                <select id=\"provider-select\" value={provider} onChange={e => setProvider(e.target.value)} className=\"form-select bg-dark text-white\" style={{ padding: '10px 18px', borderRadius: 8, border: '1.5px solid #4f8cff', fontSize: 17, fontWeight: 600 }}>\n                  <option value=\"openai\">OpenAI</option>\n                  <option value=\"ollama\">Ollama</option>\n                </select>\n                {provider === 'ollama' && (\n                  <>\n                    <label htmlFor=\"ollama-model-select\" className=\"ms-2\" style={{ fontWeight: 600 }}>Model:</label>\n                    <select id=\"ollama-model-select\" value={ollamaModel} onChange={e => setOllamaModel(e.target.value)} className=\"form-select bg-dark text-white\" style={{ padding: '10px 18px', borderRadius: 8, border: '1.5px solid #4f8cff', fontSize: 17, fontWeight: 600 }} disabled={ollamaModels.length === 0}>\n                      {ollamaModels.map(model => (\n                        <option key={model} value={model}>{model}</option>\n                      ))}\n                    </select>\n                    <div className=\"form-check form-switch\" style={{ color: '#bfc9d9', fontWeight: 600 }}>\n                      <input className=\"form-check-input\" type=\"checkbox\" id=\"only-running-switch\" checked={ollamaOnlyRunning} onChange={e => setOllamaOnlyRunning(e.target.checked)} />\n                      <label className=\"form-check-label\" htmlFor=\"only-running-switch\">Only running</label>\n                    </div>\n                    <button type=\"button\" className=\"btn btn-ghost\" onClick={() => setOllamaModelsRefresh(v => v + 1)}><i className=\"bi bi-arrow-repeat\"/> Refresh</button>\n                  </>\n                )}\n              </div>\n\n              <div className=\"d-flex gap-2\">\n                <button type=\"submit\" disabled={!file || loading} className=\"btn btn-gradient\">\n                  {loading ? 'Extracting…' : 'Extract Text'}\n                </button>\n                {text && (\n                  <button type=\"button\" className=\"btn btn-ghost\" onClick={() => { navigator.clipboard.writeText(text); setCopied(true); setTimeout(()=>setCopied(false), 1200); }}>\n                    <i className=\"bi bi-clipboard2\"/> {copied ? 'Copied' : 'Copy'}\n                  </button>\n                )}\n              </div>\n            </form>\n          </div>\n\n          <div>\n            {/* Preview + Result */}\n            {preview && (\n              <div className=\"image-frame mb-16\">\n                <img src={preview} alt=\"Preview\" />\n              </div>\n            )}\n            <div>\n              <div className=\"d-flex align-items-center justify-content-between mb-8\">\n                <h4 style={{ ...accentText, fontSize: 24, margin: 0 }}>Extracted Text</h4>\n                <span className=\"small-pill\"><i className=\"bi bi-cpu\"/> {provider === 'ollama' ? `Ollama (${ollamaModel})` : 'OpenAI'}</span>\n              </div>\n              {loading ? (\n                <div className=\"pre skeleton\" style={{ minHeight: 160 }} />\n              ) : text ? (\n                <pre className=\"pre\">{text}</pre>\n              ) : (\n                <div className=\"pre\" style={{ color: '#8892a6' }}>No text yet. Upload an image and click Extract.</div>\n              )}\n            </div>\n          </div>\n        </div>\n      </div>\n      <footer className=\"footer\">&copy; {new Date().getFullYear()} OCR AI Platform Demo</footer>\n    </>\n  );\n}\n\nconst navBtnStyle = (active) => ({\n  background: active ? accentGradient : 'transparent',\n  color: active ? '#fff' : '#bfc9d9',\n  border: 'none',\n  borderRadius: 8,\n  padding: '12px 32px',\n  fontWeight: 700,\n  fontSize: 18,\n  cursor: 'pointer',\n  marginBottom: 0,\n  marginRight: 0,\n  letterSpacing: 0.5,\n  transition: 'background 0.2s, color 0.2s',\n});\n\nexport default App; "],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}